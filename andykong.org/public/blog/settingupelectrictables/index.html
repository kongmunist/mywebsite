<!DOCTYPE html>
<html lang="en">
<head>

<!-- <title>
    Andy Kong!
</title> -->

<meta name="viewport" content="width=device-width, initial-scale=1.0">

    
        <meta name="author" content="Andy Kong">
        <meta name="title" content="Setting up Electric Tables v0.2">
        <meta name="description" content="Shoutout to Tom Critchlow">
        <meta name="keywords" content=" electrictables,  notes,  logging,  javascript,  web, ">

        <title>
            Setting up Electric Tables v0.2 | Andy Kong
        </title>
    


    <style type="text/css">
        /* Atkinson Hyperlegible */
        /* latin-ext
        @font-face {
          font-family: 'Atkinson Hyperlegible';
          font-style: normal;
          font-weight: 400;
          src: url("/static/atkhyp_latext.woff2") format('woff2');
          unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
        } */
        /* latin */
        @font-face {
          font-family: 'Atkinson Hyperlegible';
          font-style: normal;
          font-weight: 400;
          src: url("/static/atkhyp_lat.woff2") format('woff2');
          unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }


        /* Ubuntu */
        /* latin-ext
        @font-face {
          font-family: 'Ubuntu';
          font-style: normal;
          font-weight: 400;
          src: url("/static/ubuntu_latext.woff2") format('woff2');
          unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
        } */
        /* latin */
        @font-face {
          font-family: 'Ubuntu';
          font-style: normal;
          font-weight: 400;
          src: url("/static/ubuntu_lat.woff2") format('woff2');
          unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        }
    </style>

    <!-- Bootstrap -->
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"> -->
    <link rel="stylesheet" type="text/css" href="/static/bootstrap.min.css">

    <script src="/static/fontawesome.js" defer></script>
    <!-- <script src="https://kit.fontawesome.com/c62dcd5933.js"></script> -->

    <!-- Instant Page inlined - source is instant.page/5.1.0 -->
    <script src="/static/instantpage-5.1.0.js" type="module" defer></script>




    <style>
body {
    background: #202222;
    font-size: 1.2em;
    font-family: 'Ubuntu', sans-serif;
}

.navlinks{
    font-family: 'Atkinson Hyperlegible';
    font-size: 1.2em;
}

h1, h2, h3, h4, h5, h6{
    font-family: "Atkinson Hyperlegible";
}


a {
    transition: color .2s linear;
    color:#00B4CC;
}

a:hover {
    color:#00DFFC;
    text-decoration: none;
}

.navbar-custom {
    font-size: 22px;
    background-color: #202222 !important;
}

.navbar-custom .navbar-brand{
    font-size: 30px;
    color: #00dffc !important;
}

.navbar-custom .navitem{
    color:#00dffc !important;
}

.navitem:hover{
    color:#00b4cc !important;
    text-decoration: none;
}

.hidden{
  display: none;
}

.navbar-toggler-icon {
  border: none;
  outline: none;
}

.caption{
    font-size:12px;
    text-align: center;
    font-style: italic;
    margin-bottom: .2em;
    margin-top: 1em;
}

.projectpage img{
    max-width: 100%;
    max-height: 50vh;
    height: auto;
    width: auto;
}

.blogpage img{
    max-width: 100%;
    max-height: 50vh;
    height: auto;
    width: auto;
    display: block !important;
    margin: 0 auto !important;
}

.blogpage h1, .blogpage h2{
    color: #D49E68;
}

.projectpage h1, .projectpage h2{
    color: #D49E68;
}

hr{
    background-color:white !important;
}

.video-container {
  position: relative;
  width: 100%;
  padding-bottom: 56.25%;
}

.youtubevideo {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: 0;
}

code {
  font-family: Consolas,"courier new";
  color: #110000;
  background-color: #AFAFAF;
  padding: 2px;
  font-size: 105%;
}

</style>

    <link rel="icon" type="image/png" href=" /static/aklogo.png " />

        <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YNX5JQZWHT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YNX5JQZWHT');
</script>
<script data-goatcounter="https://kong.goatcounter.com/count"
                    async src="//gc.zgo.at/count.js"></script>
    
</head>



<body style="color:#F8E0CB;overflow-x: hidden;">



<nav class="navbar navbar-expand-md navbar-dark bg-dark navbar-custom">
    <a class="navbar-brand" aria-label="Link to homepage in the navbar" style="height:50px; padding-left:10px;" href="/"><img src="/static/aklogo.png" alt="Andy Kong's logo" height="50px" style="margin-top:0px;margin-bottom:10px" /></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon hidden" style="background-color:#00b4cc;">
      <i class="fab fa-buffer fa-2x" style="color:#00b4cc; ">
          </span>
        </i>
    </button>

    <div class="collapse navbar-collapse " id="navbarSupportedContent" style="margin-left:25px;margin-top:10px">
        <ul class="navbar-nav ml-auto navlinks">
            <li class="nav-item">
                <a class="nav-link navitem" href="/static/AndyKongCV.pdf ">CV/Resume</a>
            </li>
            <li class="nav-item">
                <a class="nav-link navitem" href="https://github.com/kongmunist" target="_blank" title="Github">GitHub</a>
            </li>
            <li class="nav-item">
                <a class="nav-link navitem" href="https://twitter.com/oldestasian" target="_blank" title="Twitter">Twitter</a>
            </li>
            <li class="nav-item">
                <a class="nav-link navitem" href="mailto:andyking99@gmail.com" target="_blank" title="Email">Email</a>
            </li>


            <li class="nav-item">
                <a class="nav-link navitem" href="/blog/">[Blog]</a>
            </li>
        </ul>
    </div>
</nav>


    <div class="row justify-content-center" style = "height:100vh; width: 100vw; padding-left:30px; padding-right:0px;">
<!-- padding-left:20px; padding-right:20px -->
            <div class="col-md-8 col-11 p-0" style="">
                <!-- <div class="container-fluid img-rounded shadow-lg px-4 d-flex " style="padding-top:20px;padding-bottom:20px;  border-radius:20px;text-overflow:ellipsis;width:100%;"> -->

                
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

        


<div class="blogpage overflow-hidden" style="margin-bottom:4em;">
    <h1 style="margin-bottom:0px; margin-top:1em; font-size:2.5em;">Setting up Electric Tables v0.2</h1>
            <p style="font-size:0.8em;"> Published April 22, 2022</p>
<hr>
            <p>Hello everyone! I've recently been thinking about how much time I spend on my computer, and I've gotten gotten into activity logging so I can reflect on the countless hours spent on here. There are other tools out there, but many are manual and many are paid, and I just can't be bothered with either. </p>
<hr>

<h2>Browser as a Memex</h2>
<p class ="caption"> Screenshot from my Timing dashboard, back in my period of riches </p>
<p><img loading="lazy" style="display: block; margin-left: auto;margin-right: auto;"  alt="Screenshot from my Timing dashboard, back in my period of riches" src="/static/rt_timingdashboard.png" /></p>

<p>Over half of all my computer activity happens in the browser, so I've decided to start with indexing browser activity automatically. </p>
<p><a href="https://tomcritchlow.com/">Tom Critchlow</a> recently released this great bookmarklet tool he calls <a href="https://tomcritchlow.com/2022/02/07/electric-tables-v2/">Electric Tables</a>, which template matches onto author names, titles, dates, and more to index a website as a row in a spreadsheet. Previously, this used the browser's <code>localStorage</code>, but it has since moved to Google Sheets. </p>
<p>I think this is a great development, and wanted to set up Electric Tables myself. The <a href="https://gist.github.com/tomcritchlow/cbb06a9298fb6cc0804372552fda1f96">gist</a> that Tom posted with the code had instructions for each step of the way, but silly coder I am, I ran into some trouble setting it up. This post is to clarify what exactly needs to be done so future Andy (and others!) can have less trouble in the future. </p>
<p>If you're reading this, thanks Tom! </p>
<h1>Let's begin!</h1>
<p>So, theres three things to set up: the Google Script, the Google Sheet, and the Javascript bookmarklet. </p>
<hr>

<h2>Google Script</h2>
<p>Go to <a href="https://script.google.com/home">script.google.com</a> and sign in, then click "New project" in the top left. It should take you to this blank page</p>
<p class ="caption"> Blank Google Script </p>
<p><img loading="lazy" style="display: block; margin-left: auto;margin-right: auto;"  alt="Blank Google Script" src="/static/et_googlescript1.png" /></p>

<p>Name your project, then paste in the code from Tom's <a href="https://gist.github.com/tomcritchlow/cbb06a9298fb6cc0804372552fda1f96">gist</a> under <code>electrict-tables-v0.2.gs</code>. Feel free to delete the starter <code>myFunction</code>. </p>
<p>We need to add a dependency called Cheerio which scrapes the text from websites. Hit the plus icon next to "Libraries" on the left panel, and include <a href="https://github.com/tani/cheeriogs">Cheerio</a> by looking up the Script ID: <code>1ReeQ6WO8kKNxoaA_O0XEQ589cIrRvEBA9qcWpNqdOP17i47u6N9M5Xh0</code>. Hit "Add" to include it.</p>
<p class ="caption"> Google Script with code, looking up Cheerio successfully </p>
<p><img loading="lazy" style="display: block; margin-left: auto;margin-right: auto;"  alt="Google Script with code, looking up Cheerio successfully" src="/static/et_googlescript2.png" /></p>

<p>Now we just gotta publish it to the web. Click "Deploy -&gt; New deployment", and select "Web app" as the type. I don't think the type matters for functionality, and you can leave the options as default. </p>
<p>When you click deploy, you'll get a permissions popup screen. Since only you can run this script, it's safe to allow it to edit your spreadsheets, so go ahead and give it permission.</p>
<p>If you go to Deploy-&gt;Manage deployments, you can grab the Web app URL. We'll need this for our bookmarklet. </p>
<p class ="caption"> Our script's API endpoint URL </p>
<p><img loading="lazy" style="display: block; margin-left: auto;margin-right: auto;"  alt="Our script&#39;s API endpoint URL" src="/static/et_googlescript3.png" /></p>

<hr>

<h2>Google Sheet</h2>
<p>Create a new Google Sheet, making sure it's under the same Google account as your script. We're going to add headers to the file so added rows are properly formatted. The column names are case-sensitive!</p>
<p class ="caption"> A properly set up Google Sheet </p>
<p><img loading="lazy" style="display: block; margin-left: auto;margin-right: auto;"  alt="A properly set up Google Sheet" src="/static/et_googlesheet.png" /></p>

<p>I've also highlighted the Sheet ID in the URL. We only need this bit for the bookmarklet, not the whole thing. </p>
<hr>

<h2>Bookmarklet</h2>
<p>Last step, the actual trigger for adding pages to Electric Tables. Open your favorite text editor, and paste in <code>bookmarklet.js</code> from Tom's <a href="https://gist.github.com/tomcritchlow/cbb06a9298fb6cc0804372552fda1f96">gist</a>. </p>
<p>You only need to add the macro URL from step 1 (should look like "<a href="">script.google.com/macros/s/....../exec</a>") and the spreadsheet ID (should look like <code>AodN89ua98dWL12O1oidRTa...</code> and be really long)</p>
<p>Then head over to a <a href="https://caiorss.github.io/bookmarklet-maker/">bookmarklet generator</a> and copy in your edited <code>bookmarklet.js</code>. Hit "Run Code" to test it out, and the Electric Tables menu should pop up in the top right of your screen. Add a note, then click "Submit". </p>
<p class ="caption"> Bookmarklet page getting indexed </p>
<p><img loading="lazy" style="display: block; margin-left: auto;margin-right: auto;"  alt="Bookmarklet page getting indexed" src="/static/et_bmtesting.png" /></p>

<p>Tab over to your Google Sheets page, and you should see a new row with the bookmarklet site and your note appear after a second.</p>
<p class ="caption"> Successful Electric Tables entry! </p>
<p><img loading="lazy" style="display: block; margin-left: auto;margin-right: auto;"  alt="Successful Electric Tables entry!" src="/static/et_newrow.png" /></p>

<p>Celebrate! Now you can just drag the bookmarklet button onto your bookmarks bar to make a button for it. You can also create a bookmark, then for the URL paste in the "Output" Javascript function. </p>
<p class ="caption"> Adding bookmarklet manually </p>
<p><img loading="lazy" style="display: block; margin-left: auto;margin-right: auto;"  alt="Adding bookmarklet manually" src="/static/et_handbookmark.png" /></p>

<hr>

<h1>Wrapping Up</h1>
<p>So, you should have a nifty little bookmark sitting in your bookmarks bar that catalogues interesting pages you find for later, and it's all stored on Google's big boy servers! No need to remember it all yourself anymore (as if you were doing that before ðŸ˜œ)</p>
<p class ="caption"> Electric Tables bookmarklet </p>
<p><img loading="lazy" style="display: block; margin-left: auto;margin-right: auto;"  alt="Electric Tables bookmarklet" src="/static/et_bookmarklet.png" /></p>

<p>Happy searching!</p>

    
        <hr>
        <p style="line-height:250%;">
        <a class="btn btn-info" href="/tagged/electrictables/">electrictables</a>

        
            &nbsp;
            <a class="btn btn-info" href="/tagged/notes/">notes</a>
        
            &nbsp;
            <a class="btn btn-info" href="/tagged/logging/">logging</a>
        
            &nbsp;
            <a class="btn btn-info" href="/tagged/javascript/">javascript</a>
        
            &nbsp;
            <a class="btn btn-info" href="/tagged/web/">web</a>
        
        </p> 
    
</div>




                    </div>
                    <br>
        <!-- </div> -->
</div>




<!--<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>-->
<!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>-->
<!--<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>-->
<script src="/static/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>-->
<script src="/static/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>-->
<script src="/static/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</body>
</html>